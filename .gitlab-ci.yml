image: php:7.2-alpine

cache:
  paths:
  - vendor/

before_script:
# Install dependencies
- apk update
- apk add git php7-dev gcc g++ make abuild binutils icu
- docker-php-ext-install intl
# Install & enable Xdebug for code coverage reports
- pecl install xdebug
- docker-php-ext-enable xdebug
# Install and run Composer
- curl -sS https://getcomposer.org/installer | php
- php composer.phar install

# Run our tests
# If Xdebug was installed you can generate a coverage report and see code coverage metrics.
test:
  script:
  - vendor/bin/phpunit --configuration phpunit.xml.dist --coverage-text --colors=never
